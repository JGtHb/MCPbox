# MCPbox Configuration
# Copy this file to .env and fill in the required values.
#
# Quick setup — generate all secrets at once:
#   echo "MCPBOX_ENCRYPTION_KEY=$(openssl rand -hex 32)" >> .env
#   echo "POSTGRES_PASSWORD=$(openssl rand -hex 16)" >> .env
#   echo "SANDBOX_API_KEY=$(openssl rand -hex 32)" >> .env

# ============================================================
# Required: Security Keys
# ============================================================

# Encryption key for credential storage (64 hex chars = 32 bytes)
MCPBOX_ENCRYPTION_KEY=

# Sandbox API key for backend-to-sandbox authentication (64 hex chars)
SANDBOX_API_KEY=

# JWT secret for admin panel authentication (64 hex chars)
# If omitted, derived from MCPBOX_ENCRYPTION_KEY (less secure)
JWT_SECRET_KEY=

# ============================================================
# Required: Database
# ============================================================

# PostgreSQL password (use hex to avoid URL-parsing issues)
POSTGRES_PASSWORD=

# ============================================================
# Optional: Port Configuration
# ============================================================
# Host port mappings for Docker. The frontend's built-in nginx
# proxies /api/*, /auth/*, /health to the backend internally,
# so only the frontend port needs to be exposed to browsers.

# MCPBOX_FRONTEND_PORT=3000
# MCPBOX_BACKEND_PORT=8000
# NOTE: Changing MCPBOX_BACKEND_PORT means your MCP client URL changes too.
# Example: MCPBOX_BACKEND_PORT=9000 → MCP URL becomes http://localhost:9000/mcp

# ============================================================
# Optional: Overrides
# ============================================================

# CORS origins for admin panel (default: http://localhost:3000).
# With same-origin nginx proxy, CORS is only relevant for direct
# backend access (e.g., development). Override if needed.
# CORS_ORIGINS=http://localhost:3000

# MCP gateway CORS origins (default: https://mcp.claude.ai,https://claude.ai)
# MCP_CORS_ORIGINS=https://mcp.claude.ai,https://claude.ai

# Log level (default: INFO). Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# LOG_LEVEL=INFO

# Enable HSTS header in nginx (default: false).
# Set to true only when running behind a TLS-terminating reverse proxy.
# MCPBOX_ENABLE_HSTS=false

# Dedicated API key for cloudflared container (64 hex chars, optional).
# If not set, cloudflared falls back to SANDBOX_API_KEY.
# Setting a separate key limits blast radius if cloudflared is compromised.
# CLOUDFLARED_API_KEY=

# ============================================================
# Optional: Cloudflare Remote Access
# ============================================================
# Use the Cloudflare Setup Wizard in the admin panel to configure.
# All tokens are stored in the database automatically.
